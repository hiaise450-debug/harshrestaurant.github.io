<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harsh's Restaurant | Fine Dining & Takeaway</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Converted to a White and Yellow/Gold theme */
            --primary-color: #ffc107; /* Bright Yellow/Gold for Accent */
            --secondary-color: #343a40; /* Dark text/accent color */
            --text-dark: #212529; /* Near black for main text */
            --bg-light: #fff8e1; /* Subtle Cream/Light Yellow Background */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light); 
            padding-top: 106px; /* Increased padding to accommodate the taller navbar on desktop */
        }

        /* Custom Navbar Styling - White/Clean */
        .navbar {
            background-color: #ffffff; 
            box-shadow: 0 1px 10px rgba(0,0,0,0.05); /* Lighter shadow */
        }
        .navbar-brand {
            color: var(--secondary-color) !important;
            font-weight: 800; 
            font-size: 1.8rem;
        }
        .nav-link {
            color: var(--text-dark) !important;
        }
        .nav-link.active {
            border-bottom: 2px solid var(--primary-color);
        }

        /* Search Bar Styling - Changed to "Reserve" Button */
        .search-container {
            /* Now centered, using full width on middle screen sizes, limited on large */
            flex-grow: 1;
            max-width: 600px; /* Increased max width for prominence */
        }
        .reserve-button {
            background-color: var(--primary-color);
            border-radius: 20px;
            color: var(--secondary-color); 
            border-color: var(--primary-color);
            font-weight: 700;
            padding: 8px 30px;
            transition: all 0.2s;
        }
        .reserve-button:hover {
            background-color: #ffb300;
            border-color: #ffb300;
            color: var(--secondary-color);
        }

        /* New Styling for the Taller Navbar */
        .navbar-top-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-bottom: 0.5rem;
            width: 100%;
        }

        /* Hero Carousel Styling - Adding subtle framing */
        #heroCarousel {
            box-shadow: 0 10px 25px rgba(0,0,0,0.15); 
            border-radius: 12px;
            overflow: hidden;
        }
        .carousel-item img {
            height: 450px; 
            object-fit: cover;
        }
        .carousel-item .carousel-caption {
            background-color: rgba(33, 37, 41, 0.7); /* Dark overlay for text readability */
            padding: 20px;
            border-radius: 8px;
        }
        @media (min-width: 768px) {
            .carousel-item img {
                height: 550px;
            }
        }

        /* Menu Card Styling - More premium look */
        .product-card {
            border: 1px solid #ffecb3; /* Lighter border */
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08); 
            position: relative; 
            overflow: hidden;
            background-color: white;
            height: 100%;
        }
        .product-card:hover {
            transform: translateY(-5px); 
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        .product-card img {
            border-radius: 12px 12px 0 0;
            height: 250px; /* Slightly taller images for food */
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .product-card:hover img {
            transform: scale(1.05); 
        }
        .product-price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        /* Button Styling - Using the new primary color */
        .btn-buy {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: var(--secondary-color);
            font-weight: 700;
            transition: all 0.2s;
            border-radius: 8px;
            padding: 8px 15px;
        }
        .btn-buy:hover {
            background-color: #ffb300;
            border-color: #ffb300;
            color: var(--secondary-color);
        }
        .btn-outline-secondary {
            border-color: var(--primary-color) !important;
            color: var(--secondary-color) !important;
        }
        .btn-outline-secondary:hover {
            background-color: var(--primary-color) !important;
            color: var(--secondary-color) !important;
        }

        /* Footer Styling - Retained dark background for contrast, but adjusted text */
        footer {
            background-color: var(--secondary-color);
            color: #ffecb3; 
        }
        footer a {
            color: var(--primary-color) !important; /* CHANGED to Yellow/Gold for better visibility */
            text-decoration: none;
        }
        footer a:hover {
            color: #ffffff !important; /* CHANGED to White on hover for contrast */
        }

        /* Utility classes - Refined Section Title */
        .section-title {
            font-weight: 800;
            color: var(--secondary-color);
            margin-bottom: 2.5rem;
            border-bottom: 4px solid var(--primary-color);
            display: inline-block;
            padding-bottom: 8px;
            font-size: 2.5rem; 
        }

        /* Why Choose Us Icons - New style for value props */
        .feature-icon-box {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            height: 100%;
        }
        .feature-icon-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .feature-icon-box i {
            color: var(--primary-color); 
        }

        /* Category Cards - New Circle Image Style */
        .category-card {
            border: none;
            border-radius: 12px;
            background-color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            padding: 15px; /* Increased padding */
        }
        .category-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .category-icon-bg {
            width: 90px;
            height: 90px;
            background-color: var(--bg-light); 
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 10px;
            border: 3px solid var(--primary-color); 
        }
        .category-icon-bg i {
            font-size: 3rem;
            color: var(--secondary-color);
        }
        
        /* Cart Modal (Takeaway Order) Styling */
        .cart-item {
            border-bottom: 1px solid #ffecb3;
            padding: 10px 0;
        }

        /* === Review Card Styles (ADVANCED) === */
        .review-card {
            background-color: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 5px solid var(--primary-color); /* Accent stripe */
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease; /* Added for hover */
        }
        .review-card:hover { /* New hover effect */
             transform: translateY(-3px);
             box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .review-rating i {
            color: var(--primary-color); /* Use primary color for stars */
            margin-right: 2px;
        }
        .review-avatar { /* New avatar image style */
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary-color);
            background-color: var(--bg-light); /* Fallback/background */
        }
        .review-author-meta {
            font-size: 0.9rem;
            color: var(--secondary-color);
            font-weight: 600;
        }
        .review-date {
            font-size: 0.75rem;
            color: #6c757d;
            display: block;
        }
        .review-product-tag {
            font-size: 0.8rem;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 5px;
            /* Using original styling for the tag */
        }

        /* === Story Timeline Styles === */
        .story-milestone-icon {
            background-color: var(--primary-color);
            border: 4px solid #fff; /* White border for contrast */
        }

        /* NEW: Sticky mobile search bar adjustments for padding */
        @media (max-width: 991.98px) {
             body {
                padding-top: 106px; /* Increased padding for the new mobile search bar */
            }
             .mobile-search-bar {
                display: block !important; /* Ensure the mobile search bar is visible */
             }
        }
        
        /* === Footer Social Icons: Amazing/Real Look === */
        /* Target the social icons specifically */
        .footer .list-unstyled.d-flex i { 
            font-size: 2.2rem !important; 
            transition: transform 0.2s;
            color: #ffecb3 !important; /* Light yellow base color (This is still overridden by brand colors below) */
        }
        .footer .list-unstyled.d-flex li:hover i {
            transform: scale(1.1);
            color: var(--primary-color) !important; /* Yellow hover */
        }
        /* Applying Brand Colors - Adjusted for a restaurant context */
        .footer .bi-instagram-fill { color: #E1306C !important; }
        .footer .bi-facebook-fill { color: #3b5998 !important; }
        .footer .bi-youtube { color: #FF0000 !important; }
        .footer .bi-google { color: #4285F4 !important; }
        .footer .bi-github { color: #181717 !important; }

    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid flex-column">
            
            <div class="navbar-top-row d-flex">
                
                <a class="navbar-brand me-0" href="#">
                    <img src="https://placehold.co/100x40/ffc107/343a40?text=Harsh's+Restaurant" alt="Harsh's Restaurant Logo" height="40">
                    <span class="d-none d-md-inline ms-2">Harsh's Restaurant</span>
                </a>

                <div class="d-none d-lg-flex search-container mx-auto">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search menu items (e.g., Tikka, Biryani)" id="searchInput" aria-label="Search" onkeypress="if(event.key === 'Enter') searchProducts()">
                        <button class="btn btn-primary" style="background-color: var(--primary-color); border-color: var(--primary-color); color: var(--secondary-color);" type="button" onclick="searchProducts()">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                
                <div class="d-flex align-items-center">
                    <button class="btn btn-sm reserve-button me-3 d-none d-lg-block" type="button" data-bs-toggle="modal" data-bs-target="#reservationModal">
                        <i class="bi bi-calendar-check me-1"></i> Book
                    </button>

                    <button class="btn btn-outline-secondary position-relative me-3" data-bs-toggle="modal" data-bs-target="#cartModal" title="View Takeaway Order">
                        <i class="bi bi-basket3 fs-5" style="color: var(--secondary-color);"></i>
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="cartCount">
                            0
                            <span class="visually-hidden">items in cart</span>
                        </span>
                    </button>

                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </div>

            <div class="collapse navbar-collapse w-100 justify-content-center" id="navbarNav">
                <ul class="navbar-nav mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active fw-bold" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#productSection">Our Menu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#categorySection">Menu Sections</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#dailyDealsSection">Today's Special</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#story-timeline-section">Our Story</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contactSection">Contact & Reserve</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <section class="container-fluid d-lg-none py-2 bg-white fixed-top mobile-search-bar" style="box-shadow: 0 1px 5px rgba(0,0,0,0.05); top: 56px;">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Search Menu Items" id="mobileSearchInput" aria-label="Search" onkeypress="if(event.key === 'Enter') searchProductsFromMobile()">
            <button class="btn btn-primary" style="background-color: var(--primary-color); border-color: var(--primary-color); color: var(--secondary-color);" type="button" onclick="searchProductsFromMobile()">
                <i class="bi bi-search"></i>
            </button>
            <button class="btn btn-primary ms-2" type="button" data-bs-toggle="modal" data-bs-target="#reservationModal" style="background-color: var(--secondary-color); border-color: var(--secondary-color);">
                <i class="bi bi-calendar-check me-1"></i> Reserve
            </button>
        </div>
    </section>

    <main>
        <section class="container mb-5" style="margin-top: 20px;">
            <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://placehold.co/1200x550/ffc107/343a40?text=Welcome+to+Harsh's+Restaurant" class="d-block w-100" alt="Restaurant Interior">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">Experience Fine Indian Cuisine</h3>
                            <p>Fresh ingredients, traditional recipes, and a modern dining atmosphere.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://placehold.co/1200x550/343a40/ffc107?text=Reserve+Your+Table+Today" class="d-block w-100" alt="Special Dish">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">Chef's Tasting Menu</h3>
                            <p>An exclusive journey through regional flavors, available this week only.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://placehold.co/1200x550/ffc107/343a40?text=Home+Delivery+Available" class="d-block w-100" alt="Delivery Service">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">Enjoy At Home</h3>
                            <p>Fast and hygienic takeaway and delivery options.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>

        <section class="container mb-5" id="productSection">
            <div class="text-center">
                <h2 class="section-title">Our Signature Dishes</h2>
                <div id="filterStatus" class="mb-3 d-none">
                    <span class="badge bg-warning text-dark me-2" id="currentFilterText"></span>
                    <button class="btn btn-sm btn-outline-secondary" onclick="resetFilter()"><i class="bi bi-x-circle me-1"></i> View All Menu Items</button>
                </div>
            </div>
            
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4" id="productRow1">
                </div>

            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mt-4" id="productRow2">
                </div>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mt-4" id="productRow3">
                </div>
            </section>

        <section class="bg-white py-5 mb-5 shadow-sm">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-title">Why Dine at Harsh's Restaurant?</h2>
                </div>
                <div class="row text-center">
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-star-fill fs-1 mb-3"></i>
                            <h5 class="fw-bold">Fresh, Local Ingredients</h5>
                            <p class="text-muted">We source our produce daily from local farms for the best taste.</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-award-fill fs-1 mb-3"></i>
                            <h5 class="fw-bold">Award-Winning Chefs</h5>
                            <p class="text-muted">Our culinary team is led by a nationally recognized Head Chef.</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-clock-fill fs-1 mb-3"></i>
                            <h5 class="fw-bold">Quick Takeaway & Delivery</h5>
                            <p class="text-muted">Fast service for both dining in and enjoying at home.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mb-5">
            <div class="text-center">
                <h2 class="section-title">Verified Diner Reviews</h2>
            </div>
            <div class="row g-4">
                
                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/ffc107/343a40?text=R" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Rahul K.</span> <span class="text-muted small">from Bangalore</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                                </div>
                                <span class="review-date">Reviewed 3 days ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"The Butter Chicken was phenomenal—rich, creamy, and perfectly spiced. Great atmosphere for a family dinner."</p>
                        <span class="review-product-tag" style="background-color: #fff8e1; color: var(--secondary-color);">Tried: Signature Butter Chicken</span>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/343a40/ffc107?text=P" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Priya S.</span> <span class="text-muted small">from Mumbai</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                                </div>
                                <span class="review-date">Reviewed 1 week ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"Ordered the Paneer Tikka via takeaway. It arrived hot and fresh. The portion size was generous. Highly recommend!"</p>
                        <span class="review-product-tag" style="background-color: #fff8e1; color: var(--secondary-color);">Ordered: Malai Paneer Tikka</span>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/ffc107/343a40?text=J" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Jatin V.</span> <span class="text-muted small">from Delhi</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i>
                                </div>
                                <span class="review-date">Reviewed 2 weeks ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"Excellent dining service. The wait time for the dessert was a little long, but the Gulab Jamun was worth the wait."</p>
                        <span class="review-product-tag" style="background-color: #fff8e1; color: var(--secondary-color);">Tried: Gulab Jamun Cheesecake</span>
                    </div>
                </div>

            </div>
        </section>
        <section class="container mb-5" id="story-timeline-section">
            <div class="text-center">
                <h2 class="section-title">Our Culinary Story: Born in Agra</h2>
            </div>
            <div class="row align-items-center bg-white p-4 rounded-3 shadow-sm">
                <div class="col-md-5 mb-4 mb-md-0">
                    <img src="https://placehold.co/800x450/ffc107/343a40?text=Harsh's+Restaurant+Kitchen" class="img-fluid rounded-3 shadow-lg" alt="Our Culinary Journey">
                </div>
                <div class="col-md-7">
                    <p class="lead text-muted mb-4">Harsh's Restaurant started with a single vision: to bring authentic Indian flavors to a modern setting. Here are the key milestones that define our journey:</p>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2018: Grand Opening & First Menu</h5>
                        <p class="text-muted small mb-1">We opened our doors in Agra, offering our first set of five regional Indian cuisines, quickly becoming a local favorite.</p>
                    </div>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2021: New Chef & Menu Expansion</h5>
                        <p class="text-muted small mb-1">Hired Chef Verma, a master of North Indian cuisine, and introduced 10 new signature main courses.</p>
                    </div>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2024: Takeaway Service & Second Location</h5>
                        <p class="text-muted small mb-1">Launched our online takeaway system and successfully opened our second, larger branch in Delhi.</p>
                    </div>
                    
                    <a href="#story-timeline-section" class="btn btn-outline-secondary mt-3">Read Full Story</a>
                </div>
            </div>
        </section>
        <section class="container mb-5" id="contactSection">
            <div class="text-center">
                <h2 class="section-title">Contact & Reservations</h2>
            </div>
            <div class="row align-items-center bg-white p-4 rounded-3 shadow-sm">
                <div class="col-md-7 mb-4 mb-md-0">
                    <form onsubmit="event.preventDefault(); showContactConfirmation();">
                        <h4 class="mb-3 text-primary">Table Reservation Request</h4>
                        <div class="mb-3">
                            <label for="contactName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="contactName" required>
                        </div>
                        <div class="mb-3">
                            <label for="contactEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="contactEmail" required>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="reservationDate" class="form-label">Date</label>
                                <input type="date" class="form-control" id="reservationDate" required>
                            </div>
                            <div class="col-md-6">
                                <label for="reservationTime" class="form-label">Time</label>
                                <input type="time" class="form-control" id="reservationTime" value="19:00" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="contactMessage" class="form-label">Number of Guests / Special Request</label>
                            <textarea class="form-control" id="contactMessage" rows="2" placeholder="e.g., 4 Guests, near window, birthday." required></textarea>
                        </div>
                        <button type="submit" class="btn btn-buy btn-md">Request Reservation</button>
                    </form>
                </div>
                <div class="col-md-5">
                    <img src="https://placehold.co/800x450/343a40/ffc107?text=Restaurant+Seating" class="img-fluid rounded-3 shadow-lg" alt="Restaurant seating image">
                </div>
            </div>
        </section>

        <section class="bg-primary py-5 mb-5 shadow-lg" style="background-color: var(--primary-color) !important;">
            <div class="container text-center">
                <h3 class="display-5 fw-bold mb-3 text-secondary">Join Our VIP Diner Club!</h3>
                <p class="lead mb-4 text-secondary">Sign up today for a **15% discount** on your next dine-in bill and exclusive weekly chef specials.</p>
                <button class="btn btn-dark btn-lg shadow-lg" data-bs-toggle="modal" data-bs-target="#signUpModal" style="background-color: var(--secondary-color); border-color: var(--secondary-color);">
                    Sign Up Now <i class="bi bi-arrow-right-circle-fill ms-2"></i>
                </button>
            </div>
        </section>

        <section class="container mb-5" id="categorySection">
            <div class="text-center">
                <h2 class="section-title">Browse Our Menu Sections</h2>
            </div>
            <div class="row g-4 text-center">
                
                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Appetizers</h5>
                        <a href="#" onclick="filterProductsByCategory('appetizers')" class="stretched-link text-decoration-none text-muted small">Hot & Cold Starters</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-fire"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Main Course</h5>
                        <a href="#" onclick="filterProductsByCategory('mains')" class="stretched-link text-decoration-none text-muted small">Signature Dishes</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-cake-fill"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Desserts</h5>
                        <a href="#" onclick="filterProductsByCategory('desserts')" class="stretched-link text-decoration-none text-muted small">Sweet Indulgences</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-cup-hot-fill"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Beverages</h5>
                        <a href="#" onclick="filterProductsByCategory('beverages')" class="stretched-link text-decoration-none text-muted small">Fresh Juices & More</a>
                    </div>
                </div>

            </div>
        </section>
        
        <section class="bg-light py-5 mb-5 border-top border-bottom" id="dailyDealsSection" style="background-color: #fcfcfc !important;">
            <div class="container text-center">
                <h2 class="section-title">Today's Chef Special</h2>
                <p class="lead text-muted">Limited-time price on our highly recommended dish. Available for dine-in and takeaway!</p>
                
                <div class="d-flex justify-content-center gap-4 mb-4 fs-1 fw-bold text-primary" id="countdownTimer">
                    <span>00</span>h:<span>00</span>m:<span>00</span>s
                </div>

                <div class="card p-3 shadow-lg mx-auto" style="max-width: 700px;">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img src="https://placehold.co/400x400/343a40/ffc107?text=Today's+Special+Dish" class="img-fluid rounded-start h-100 object-fit-cover" alt="Daily Deal Product">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body text-start">
                                <span class="badge bg-danger mb-2 fs-6">30% OFF TODAY</span>
                                <h5 class="card-title fw-bold fs-3">Hyderabadi Chicken Biryani</h5>
                                <p class="card-text text-muted">Aromatic basmati rice layered with tender, marinated chicken and a secret blend of spices.</p>
                                <div class="d-flex align-items-center mb-3">
                                    <h4 class="text-primary fw-bolder me-3">₹399</h4>
                                    <s class="text-danger">₹570</s>
                                </div>
                                <button class="btn btn-buy btn-lg w-100" onclick="addToCart(10)">
                                    Order Takeaway Now <i class="bi bi-basket ms-2"></i>
                                </button>
                                <p class="card-text"><small class="text-success fw-bold mt-2 d-block"><i class="bi bi-check-circle-fill me-1"></i> Highly Recommended by 9/10 Diners!</small></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="container mb-5">
            <div class="text-center">
                <h2 class="section-title">Find Us: Agra, Uttar Pradesh</h2>
            </div>
            <div class="row justify-content-center">
                <div class="col-12 col-lg-8"> <div class="ratio ratio-16x9 rounded-3 shadow-lg">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d113645.71764627441!2d77.93046252999335!3d27.1751447036495!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39747c385900508f%3A0xc6a882d9217b1836!2sAgra%2C%20Uttar%20Pradesh!5e0!3m2!1sen!2sin!4v1687000000000!5m2!1sen!2sin" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            title="Map of Agra, Uttar Pradesh">
                        </iframe>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mb-5" id="faqSection">
            <div class="text-center">
                <h2 class="section-title">Frequently Asked Questions</h2>
            </div>
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Do you accept reservations for large groups?
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Yes, we can accommodate groups of up to 15 people. For groups larger than 8, please call us directly to discuss seating options.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            What are your hours of operation?
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            We are open daily from **12:00 PM to 3:00 PM (Lunch)** and **6:00 PM to 11:00 PM (Dinner)**. Takeaway orders can be placed during these times.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Do you have vegetarian and vegan options?
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Yes, a majority of our menu is vegetarian-friendly, and all vegan options are clearly marked with a **(V)** symbol. Please inform your server or mention it in your takeaway order notes.
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="py-5 footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5>Harsh's Restaurant</h5>
                    <ul class="nav flex-column">
                        <li class="nav-item mb-2"><a href="#" class="nav-link p-0">Home</a></li>
                        <li class="nav-item mb-2"><a href="#productSection" class="nav-link p-0">View Full Menu</a></li>
                        <li class="nav-item mb-2"><a href="#story-timeline-section" class="nav-link p-0">Our Chefs</a></li>
                        <li class="nav-item mb-2"><a href="#faqSection" class="nav-link p-0">FAQs</a></li>
                    </ul>
                </div>

                <div class="col-md-4 mb-3">
                    <h5>Service & Support</h5>
                    <ul class="nav flex-column">
                        <li class="nav-item mb-2"><a href="#contactSection" onclick="scrollToElement('contactSection')" class="nav-link p-0">Make a Reservation</a></li>
                        <li class="nav-item mb-2"><a href="#faqSection" onclick="scrollToElement('faqSection', 'headingTwo')" class="nav-link p-0">Hours of Operation</a></li>
                        <li class="nav-item mb-2"><a href="#" data-bs-toggle="modal" data-bs-target="#trackOrderModal" class="nav-link p-0">Track Takeaway Order</a></li>
                    </ul>
                </div>

                <div class="col-md-4 mb-3">
                    <h5>Accepted Payments</h5>
                    <p>We accept all major cards and digital wallets:</p>
                    <div class="d-flex gap-3 fs-3">
                        <i class="bi bi-paypal" title="PayPal"></i>
                        <i class="bi bi-google" title="Google Pay"></i>
                        <span style="font-size: 1.5rem; font-weight: bold; color: #fff;" title="UPI">UPI</span>
                        <i class="bi bi-credit-card-fill" title="Credit/Debit Cards"></i>
                    </div>
                </div>
            </div>

            <div class="d-flex flex-column flex-sm-row justify-content-between py-4 my-4 border-top" style="border-color: #ffc107 !important;">
                <p>© 2024 Harsh's Restaurant. All rights reserved.</p>
                <ul class="list-unstyled d-flex">
                    <li class="ms-3"><a class="link-light" href="https://instagram.com/harshs.restaurant" target="_blank" aria-label="Follow us on Instagram"><i class="bi bi-instagram-fill"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://facebook.com/harshs.restaurant" target="_blank" aria-label="Follow us on Facebook"><i class="bi bi-facebook-fill"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://google.com/search?q=Harsh's+Restaurant" target="_blank" aria-label="Find us on Google"><i class="bi bi-google"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://youtube.com/harshs.restaurant" target="_blank" aria-label="Subscribe to us on YouTube"><i class="bi bi-youtube"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://github.com/harshs-restaurant" target="_blank" aria-label="View our code on GitHub"><i class="bi bi-github"></i></a></li>
                    </ul>
                </div>
        </div>
    </footer>

    <div class="modal fade" id="reservationModal" tabindex="-1" aria-labelledby="reservationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-secondary" style="background-color: var(--primary-color) !important;">
                    <h5 class="modal-title" id="reservationModalLabel"><i class="bi bi-calendar-check me-2"></i>Quick Table Reservation</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="event.preventDefault(); showReservationConfirmation();">
                        <div class="mb-3">
                            <label for="resName" class="form-label">Name</label>
                            <input type="text" class="form-control" id="resName" required>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="resDate" class="form-label">Date</label>
                                <input type="date" class="form-control" id="resDate" required>
                            </div>
                            <div class="col-md-6">
                                <label for="resTime" class="form-label">Time</label>
                                <input type="time" class="form-control" id="resTime" value="19:00" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="resGuests" class="form-label">Number of Guests</label>
                            <input type="number" class="form-control" id="resGuests" min="1" max="15" value="2" required>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Confirm Booking</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="trackOrderModal" tabindex="-1" aria-labelledby="trackOrderModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-secondary text-white">
                    <h5 class="modal-title" id="trackOrderModalLabel"><i class="bi bi-truck me-2"></i>Track Your Takeaway Order</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="event.preventDefault(); showTrackingResults();">
                        <div class="mb-3">
                            <label for="trackingId" class="form-label">Enter Order ID (e.g., HR123456)</label>
                            <input type="text" class="form-control" id="trackingId" value="HR123456" required>
                            <div class="form-text">Your Order ID was provided upon checkout.</div>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Check Status</button>
                    </form>
                    
                    <div id="trackingResult" class="mt-4 p-3 border rounded-3 d-none">
                        <h6 class="text-success fw-bold">Order HR123456 Status:</h6>
                        <p class="mb-1"><strong>Status:</strong> <span class="badge bg-primary">Out for Delivery!</span></p>
                        <p class="mb-1"><strong>Delivery Partner:</strong> Harsh Delivery</p>
                        <p class="mb-1"><strong>Estimated Arrival:</strong> 8:45 PM</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="signUpModal" tabindex="-1" aria-labelledby="signUpModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-secondary" style="background-color: var(--primary-color) !important;">
                    <h5 class="modal-title" id="signUpModalLabel"><i class="bi bi-star-fill me-2"></i>Join VIP Diner Club!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="lead">Unlock exclusive chef specials and your **15% discount** code instantly.</p>
                    <form onsubmit="event.preventDefault(); showRewardsConfirmation();">
                        <div class="mb-3">
                            <label for="signUpName" class="form-label">Name</label>
                            <input type="text" class="form-control" id="signUpName" required>
                        </div>
                        <div class="mb-3">
                            <label for="signUpEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="signUpEmail" required>
                            <div class="form-text">We'll never share your email with anyone else.</div>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Claim My Discount</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="rewardsConfirmationModal" tabindex="-1" aria-labelledby="rewardsConfirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="rewardsConfirmationModalLabel">Welcome to the Club!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="fs-5 fw-bold">Success! Your 15% discount code is: <span class="text-primary">HARSHVIP15</span></p>
                    <p>Check your email for future chef specials and membership perks.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel"><i class="bi bi-basket3 me-2"></i>Your Takeaway Order</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="cartItemsContainer">
                    <p class="text-center text-muted" id="emptyCartMessage">Your order basket is empty. Please add items from the menu.</p>
                </div>
                
                <div class="modal-footer d-block">
                    
                    <div class="mb-3 p-3 rounded-3" style="background-color: #f0f0f0;">
                        <h6 class="mb-2 fw-bold text-dark">Select Delivery/Pickup:</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="orderMethod" id="orderDelivery" value="Home Delivery" checked>
                            <label class="form-check-label" for="orderDelivery">
                                <i class="bi bi-geo-alt-fill me-1"></i> Home Delivery (₹50 fee)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="orderMethod" id="orderPickup" value="Restaurant Pickup">
                            <label class="form-check-label" for="orderPickup">
                                <i class="bi bi-shop me-1"></i> Restaurant Pickup (Free)
                            </label>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="mb-0">Subtotal:</h5>
                        <h4 class="mb-0 text-success" id="cartTotal">₹0.00</h4>
                    </div>
                    <button type="button" class="btn btn-buy w-100" onclick="proceedToCheckout()">Confirm Order & Pay</button>
                </div>

            </div>
        </div>
    </div>
    
    <div class="modal fade" id="contactConfirmationModal" tabindex="-1" aria-labelledby="contactConfirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="contactConfirmationModalLabel">Reservation Requested!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Thank you for requesting a reservation at Harsh's Restaurant. We will confirm your table and send a confirmation email shortly!
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="paymentSuccessModal" tabindex="-1" aria-labelledby="paymentSuccessModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="paymentSuccessModalLabel"><i class="bi bi-check-circle-fill me-2"></i>Order Placed Successfully!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="fs-5 fw-bold" id="paymentSummaryMessage"></p>
                    <p>Your takeaway order is confirmed and is being prepared. Thank you for dining with Harsh's Restaurant.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">View Menu</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <script>
        // Use an IIFE for encapsulation
        (function() {
            // Mock Menu Item Data - UPDATED WITH FOOD ITEMS & NEW CATEGORIES
            const MOCK_PRODUCTS = [
                { id: 1, name: "Signature Butter Chicken", price: 649, image: "https://placehold.co/600x400/ffc107/343a40?text=Butter+Chicken", category: "mains" },
                { id: 2, name: "Malai Paneer Tikka", price: 499, image: "https://placehold.co/600x400/343a40/ffc107?text=Paneer+Tikka", category: "appetizers" },
                { id: 3, name: "Truffle Mushroom Risotto", price: 799, image: "https://placehold.co/600x400/ffc107/343a40?text=Risotto", category: "mains" },
                { id: 4, name: "Vegetable Spring Rolls (4pcs)", price: 299, image: "https://placehold.co/600x400/343a40/ffc107?text=Spring+Rolls", category: "appetizers" },
                { id: 5, name: "Classic Caesar Salad", price: 349, image: "https://placehold.co/600x400/ffc107/343a40?text=Caesar+Salad", category: "appetizers" }, 
                { id: 6, name: "Chocolate Lava Cake", price: 399, image: "https://placehold.co/600x400/343a40/ffc107?text=Lava+Cake", category: "desserts" },
                { id: 7, name: "Fresh Lime Soda", price: 149, image: "https://placehold.co/600x400/ffc107/343a40?text=Lime+Soda", category: "beverages" },
                { id: 8, name: "Espresso Brownie Milkshake", price: 299, image: "https://placehold.co/600x400/343a40/ffc107?text=Milkshake", category: "beverages" },
                { id: 9, name: "Gulab Jamun (3pcs)", price: 249, image: "https://placehold.co/600x400/ffc107/343a40?text=Gulab+Jamun", category: "desserts" },
                { id: 10, name: "Hyderabadi Chicken Biryani", price: 399, image: "https://placehold.co/400x400/343a40/ffc107?text=Biryani", category: "mains" },
                { id: 11, name: "Cheesy Garlic Naan", price: 199, image: "https://placehold.co/600x400/ffc107/343a40?text=Garlic+Naan", category: "mains" }, 
                { id: 12, name: "Coconut Rasmalai Fusion", price: 449, image: "https://placehold.co/600x400/343a40/ffc107?text=Rasmalai", category: "desserts" }, 
            ];

            let cart = []; // The state for the takeaway order basket

            // DOM Elements (fetched once on load)
            const productRow1 = document.getElementById('productRow1');
            const productRow2 = document.getElementById('productRow2');
            const productRow3 = document.getElementById('productRow3');
            const cartCountElement = document.getElementById('cartCount');
            const cartItemsContainer = document.getElementById('cartItemsContainer');
            const cartTotalElement = document.getElementById('cartTotal');
            const emptyCartMessage = document.getElementById('emptyCartMessage');
            const filterStatusElement = document.getElementById('filterStatus');
            const currentFilterTextElement = document.getElementById('currentFilterText');
            
            // ==================== UTILITY FUNCTIONS ====================

            // NEW: Function to show a simplified reservation confirmation
            window.showReservationConfirmation = () => {
                const name = document.getElementById('resName').value;
                const date = document.getElementById('resDate').value;
                const time = document.getElementById('resTime').value;
                const guests = document.getElementById('resGuests').value;

                if (name && date && time && guests) {
                    const reservationModalEl = document.getElementById('reservationModal');
                    const reservationModalInstance = bootstrap.Modal.getInstance(reservationModalEl) || new bootstrap.Modal(reservationModalEl);
                    reservationModalInstance.hide();
                    
                    const contactModalEl = document.getElementById('contactConfirmationModal');
                    const confirmationModal = new bootstrap.Modal(contactModalEl);
                    
                    // Repurpose the contact modal for reservation confirmation
                    document.getElementById('contactConfirmationModalLabel').textContent = `Reservation Confirmed!`;
                    document.querySelector('#contactConfirmationModal .modal-header').classList.add('bg-success');
                    document.querySelector('#contactConfirmationModal .modal-header').classList.remove('bg-danger');

                    document.querySelector('#contactConfirmationModal .modal-body').innerHTML = `
                        <p class="mb-1">Hello, ${name}!</p>
                        <p class="mb-1">Your request for <b>${guests} guests</b> on <b>${date}</b> at <b>${time}</b> has been received.</p>
                        <p class="fw-bold text-success">We will send a final confirmation via email shortly.</p>
                    `;

                    confirmationModal.show();
                    
                    // Clear the quick reservation form
                    document.getElementById('resName').value = '';
                    document.getElementById('resDate').value = '';
                    document.getElementById('resTime').value = '19:00';
                    document.getElementById('resGuests').value = '2';
                }
            };
            
            // Re-purposed to show contact/reservation request confirmation
            window.showContactConfirmation = () => {
                const name = document.getElementById('contactName').value;
                const date = document.getElementById('reservationDate').value;

                if (name && date) {
                    const confirmationModal = new bootstrap.Modal(document.getElementById('contactConfirmationModal'));
                    confirmationModal.show();
                    
                    // Clear the form fields after showing confirmation
                    document.getElementById('contactName').value = '';
                    document.getElementById('contactEmail').value = '';
                    document.getElementById('contactMessage').value = '';
                    document.getElementById('reservationDate').value = '';
                    document.getElementById('reservationTime').value = '19:00';
                }
            };

            // Existing tracking results, but with restaurant order info
            window.showTrackingResults = () => {
                const trackingId = document.getElementById('trackingId').value.toUpperCase().trim();
                const resultDiv = document.getElementById('trackingResult');
                
                if (trackingId === 'HR123456') {
                    resultDiv.classList.remove('d-none');
                    resultDiv.innerHTML = `
                        <h6 class="text-success fw-bold">Order ${trackingId} Status:</h6>
                        <p class="mb-1"><strong>Status:</strong> <span class="badge bg-primary">Out for Delivery!</span></p>
                        <p class="mb-1"><strong>Delivery Partner:</strong> Harsh Delivery</p>
                        <p class="mb-1"><strong>Estimated Arrival:</strong> 8:45 PM</p>
                    `;
                } else {
                    resultDiv.classList.remove('d-none');
                    resultDiv.innerHTML = `
                        <h6 class="text-danger fw-bold">Order ${trackingId} Status:</h6>
                        <p class="mb-1"><strong>Status:</strong> <span class="badge bg-danger">Not Found / Error</span></p>
                        <p class="mb-1">Please double check your order ID and try again, or contact the restaurant.</p>
                    `;
                }
            };
            
            window.scrollToElement = (elementId, accordionHeaderId = null) => {
                const element = document.getElementById(elementId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                    
                    if (accordionHeaderId) {
                        const headerElement = document.getElementById(accordionHeaderId);
                        if (headerElement) {
                            const button = headerElement.querySelector('button');
                            const collapseTargetId = button.getAttribute('data-bs-target');
                            const collapseElement = document.querySelector(collapseTargetId);
                            
                            if (collapseElement && !collapseElement.classList.contains('show')) {
                                const bsCollapse = new bootstrap.Collapse(collapseElement, { toggle: true });
                            }
                        }
                    }
                }
            };

            // ==================== MENU RENDERING ====================

            const renderProductCard = (product) => {
                const categoryDisplay = product.category.charAt(0).toUpperCase() + product.category.slice(1).replace('s', ''); // Mains, Appetizers, Desserts, Beverages
                return `
                    <div class="col product-item" data-name="${product.name.toLowerCase()}" data-category="${product.category}">
                        <div class="card product-card shadow-sm">
                            <img src="${product.image}" class="card-img-top" alt="${product.name}">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">${product.name}</h5>
                                <p class="card-text text-muted">${categoryDisplay} Dish</p>
                                <div class="mt-auto d-flex justify-content-between align-items-center">
                                    <span class="product-price">₹${product.price}</span>
                                    <button class="btn btn-buy" onclick="addToCart(${product.id})">
                                        <i class="bi bi-basket-fill me-1"></i> Order Takeaway
                                    </button>
                                }
                            </div>
                        </div>
                    </div>
                `;
            };

            const displayProducts = (productsToRender) => {
                productRow1.innerHTML = '';
                productRow2.innerHTML = '';
                productRow3.innerHTML = ''; 

                if (productsToRender.length === 0) {
                    productRow1.innerHTML = '<div class="col-12"><p class="text-center fs-4 text-danger">No menu items found matching the section or search.</p></div>';
                    // Clear the other two rows explicitly
                    productRow2.innerHTML = '';
                    productRow3.innerHTML = '';
                    return;
                }
                
                // Determine which products to display in which row for a balanced look
                const totalProducts = productsToRender.length;
                const itemsPerRow = 4;
                
                const row1End = Math.min(itemsPerRow, totalProducts);
                const row2End = Math.min(itemsPerRow * 2, totalProducts);
                const row3End = totalProducts;

                productsToRender.slice(0, row1End).forEach(p => {
                    productRow1.innerHTML += renderProductCard(p);
                });

                productsToRender.slice(row1End, row2End).forEach(p => {
                    productRow2.innerHTML += renderProductCard(p);
                });
                
                productsToRender.slice(row2End, row3End).forEach(p => {
                    productRow3.innerHTML += renderProductCard(p);
                });
            };
            
            // ==================== FILTERING FUNCTIONS (Made available globally) ====================

            window.filterProductsByCategory = (category) => {
                const filteredProducts = MOCK_PRODUCTS.filter(p => p.category === category.toLowerCase());
                
                displayProducts(filteredProducts);
                
                const categoryNames = {
                    'appetizers': 'Appetizers (Starters)',
                    'mains': 'Main Courses',
                    'desserts': 'Desserts & Sweets',
                    'beverages': 'Beverages & Drinks'
                };
                
                currentFilterTextElement.textContent = `Showing items in: ${categoryNames[category] || category.toUpperCase()}`;
                filterStatusElement.classList.remove('d-none');
                
                document.getElementById('productSection').scrollIntoView({ behavior: 'smooth' });
            };

            window.resetFilter = () => {
                displayProducts(MOCK_PRODUCTS);
                filterStatusElement.classList.add('d-none');
                
                // Clear search inputs when resetting filter
                document.getElementById('searchInput').value = '';
                document.getElementById('mobileSearchInput').value = '';
            };
            
            // ==================== SEARCH FUNCTIONALITY (Re-introduced) ====================

            // Function to perform search from desktop input
            window.searchProducts = () => {
                const query = document.getElementById('searchInput').value.toLowerCase().trim();
                performSearch(query);
            };

            // Function to perform search from mobile input
            window.searchProductsFromMobile = () => {
                const query = document.getElementById('mobileSearchInput').value.toLowerCase().trim();
                performSearch(query);
            };

            const performSearch = (query) => {
                if (query === "") {
                    resetFilter();
                    return;
                }
                
                const filteredProducts = MOCK_PRODUCTS.filter(p => 
                    p.name.toLowerCase().includes(query) || 
                    p.category.toLowerCase().includes(query)
                );
                
                displayProducts(filteredProducts);
                
                currentFilterTextElement.textContent = `Search results for: "${query}"`;
                filterStatusElement.classList.remove('d-none');
                
                document.getElementById('productSection').scrollIntoView({ behavior: 'smooth' });
            };


            // ==================== ORDER BASKET MODIFICATION FUNCTIONS (Made available globally) ====================

            const updateCartUI = () => {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCountElement.textContent = totalItems;
                
                cartItemsContainer.innerHTML = '';
                let subtotal = 0;

                if (cart.length === 0) {
                    emptyCartMessage.style.display = 'block';
                } else {
                    emptyCartMessage.style.display = 'none';
                    
                    cart.forEach(item => {
                        const itemTotal = item.price * item.quantity;
                        subtotal += itemTotal;

                        const itemHtml = `
                            <div class="cart-item d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-1">${item.name}</h6>
                                    <p class="mb-0 text-muted small">Price: ₹${item.price}</p>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-secondary" onclick="removeFromCart(${item.id})" title="Decrement Quantity">-</button>
                                    
                                    <span class="mx-2 fw-bold" style="min-width: 20px; text-align: center;">${item.quantity}</span>
                                    
                                    <button class="btn btn-sm btn-outline-secondary" onclick="addToCart(${item.id})" title="Increment Quantity">+</button>
                                    
                                    <span class="fw-bold ms-3 text-nowrap" style="min-width: 80px; text-align: right;">₹${itemTotal}</span>
                                </div>
                            </div>
                        `;
                        cartItemsContainer.innerHTML += itemHtml;
                    });
                }

                cartTotalElement.textContent = `₹${subtotal}`;
            };

            window.addToCart = (productId) => {
                const productToAdd = MOCK_PRODUCTS.find(p => p.id === productId);
                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else if (productToAdd) {
                    cart.push({ ...productToAdd, quantity: 1 });
                }
                
                updateCartUI();
            };

            window.removeFromCart = (productId) => {
                const existingItemIndex = cart.findIndex(item => item.id === productId);
                
                if (existingItemIndex !== -1) {
                    if (cart[existingItemIndex].quantity > 1) {
                        cart[existingItemIndex].quantity -= 1;
                    } else {
                        cart.splice(existingItemIndex, 1); 
                    }
                }
                
                updateCartUI();
            };
            
            // ==================== ORDER CHECKOUT (MOCK) ====================
            
            window.proceedToCheckout = () => {
                if (typeof bootstrap === 'undefined') return;

                if (cart.length === 0) {
                    const emptyCartModalEl = document.getElementById('contactConfirmationModal');
                    const emptyCartModal = new bootstrap.Modal(emptyCartModalEl);
                    
                    document.getElementById('contactConfirmationModalLabel').innerHTML = `<i class="bi bi-info-circle me-1"></i> Order Empty`;
                    document.querySelector('#contactConfirmationModal .modal-header').classList.remove('bg-success');
                    document.querySelector('#contactConfirmationModal .modal-header').classList.add('bg-danger');
                    document.querySelector('#contactConfirmationModal .modal-body').innerHTML = '<p>Please add menu items to your order before proceeding to payment.</p>';
                    emptyCartModal.show();
                    
                    // Reset modal content after a delay (to prevent conflict with showContactConfirmation)
                    setTimeout(() => {
                        document.getElementById('contactConfirmationModalLabel').innerHTML = `Reservation Requested!`;
                        document.querySelector('#contactConfirmationModal .modal-header').classList.remove('bg-danger');
                        document.querySelector('#contactConfirmationModal .modal-header').classList.add('bg-success');
                        document.querySelector('#contactConfirmationModal .modal-body').innerHTML = 'Thank you for requesting a reservation at Harsh\'s Restaurant. We will confirm your table and send a confirmation email shortly!';
                    }, 1000); 

                    return; 
                }

                const subtotalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const orderMethod = document.querySelector('input[name="orderMethod"]:checked')?.value || 'Pickup';
                const deliveryFee = orderMethod === 'Home Delivery' ? 50 : 0;
                const totalAmount = subtotalAmount + deliveryFee;

                
                const cartModalEl = document.getElementById('cartModal');
                const cartModalInstance = bootstrap.Modal.getInstance(cartModalEl) || new bootstrap.Modal(cartModalEl);
                cartModalInstance.hide(); 

                const summaryMessage = document.getElementById('paymentSummaryMessage');
                summaryMessage.innerHTML = `Total Paid: <span class="text-success">₹${totalAmount}</span> for <b>${orderMethod}</b>.`;

                const paymentSuccessModal = new bootstrap.Modal(document.getElementById('paymentSuccessModal'));
                paymentSuccessModal.show();

                cart = [];
                updateCartUI();
            };

            // ==================== FORM HANDLERS (Updated for Restaurant) ====================
            
            window.showRewardsConfirmation = () => {
                const name = document.getElementById('signUpName').value;
                const email = document.getElementById('signUpEmail').value;

                if (name && email) {
                    const signUpModalEl = document.getElementById('signUpModal');
                    const signUpModalInstance = bootstrap.Modal.getInstance(signUpModalEl) || new bootstrap.Modal(signUpModalEl);
                    signUpModalInstance.hide();

                    const confirmationModal = new bootstrap.Modal(document.getElementById('rewardsConfirmationModal'));
                    confirmationModal.show();
                    
                    document.getElementById('signUpName').value = '';
                    document.getElementById('signUpEmail').value = '';
                } 
            };
            
            // ==================== Countdown Timer Function (Uses simpler food-related time) ====================
            const startCountdown = () => {
                const endTime = new Date();
                endTime.setDate(endTime.getDate() + 1); 
                endTime.setHours(23, 59, 59, 0); 

                const updateTimer = () => {
                    const now = new Date().getTime();
                    const distance = endTime - now;

                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    const timerElement = document.getElementById("countdownTimer");
                    if (timerElement) {
                        if (distance < 0) {
                            clearInterval(x);
                            timerElement.innerHTML = "<span class='text-danger'>EXPIRED</span>";
                        } else {
                            // Using the spans inside the div
                            timerElement.innerHTML = `
                                <span>${String(hours).padStart(2, '0')}</span>h:
                                <span>${String(minutes).padStart(2, '0')}</span>m:
                                <span>${String(seconds).padStart(2, '0')}</span>s
                            `;
                        }
                    }
                };

                updateTimer(); // Initial call
                const x = setInterval(updateTimer, 1000);
            };

            // Initial product display and cart UI update when the page loads
            window.onload = () => {
                displayProducts(MOCK_PRODUCTS);
                updateCartUI();
                startCountdown(); // NEW: Start the countdown timer
            };

        })(); 
    </script>
</body>
</html>